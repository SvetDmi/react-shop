{"version":3,"sources":["components/Header.js","components/Preloader.js","components/GoodItem.js","components/GoodsList.js","components/Cart.js","components/BasketItem.js","components/BasketList.js","components/Alert.js","components/Shop.js","config.js","components/Footer.js","App.js","index.js"],"names":["Header","className","href","id","Preloader","GoodItem","props","name","description","price","full_background","onBuy","src","alt","onClick","style","fontSize","GoodsList","goods","length","map","item","Cart","quantity","onBasketShow","BasketItem","onRemove","increment","decrement","BasketList","order","totalPrice","reduce","sum","elem","Alert","onCloseAlert","React","useEffect","timerId","setTimeout","clearTimeout","Shop","useState","setGoods","loading","setLoading","setOrder","isBasketShow","setBasketShow","alertName","setAlertName","handleBasketShow","fetch","headers","process","then","res","json","data","featured","console","log","itemIndex","findIndex","orderItem","newItem","newOrder","index","itemId","filter","newQuantity","Footer","Date","getFullYear","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.916e1e42.chunk.js","sourcesContent":["function Header(){\r\n    return(\r\n    <nav className =\"orange lighten-1\">\r\n    <div className=\"nav-wrapper\">\r\n      <a href=\"!#\" className=\"brand-logo\">React Shop</a>\r\n      <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n        <li><a href=\"!#\">email@email.com</a></li>\r\n     \r\n      </ul>\r\n    </div>\r\n  </nav>\r\n    )\r\n}\r\nexport {Header};","function Preloader() {\r\n    return (\r\n        <div className=\"progress\">\r\n            <div className=\"indeterminate\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport { Preloader }","function GoodItem(props) {\r\n    const {\r\n        id,\r\n        name,\r\n        description,\r\n        price,\r\n        full_background,\r\n        onBuy\r\n\r\n    } = props;\r\n\r\n    return (\r\n        <div className=\"card\">\r\n            <div className=\"card-image\">\r\n                <img src={full_background} alt={name} />\r\n            </div>\r\n            <div className=\"card-content\">\r\n                <span className=\"card-title\">{name}</span>\r\n                <p>\r\n                    {description}\r\n                </p>\r\n            </div>\r\n            <div className=\"card-action\">\r\n                <button className='waves-effect waves-light btn orange darken-3 white-text' onClick={() => onBuy({ id, name, price })}>Купить</button>\r\n                <span className='right' style={{ fontSize: '1.5rem' }}>{price} руб.</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport { GoodItem };","import { GoodItem } from './GoodItem';\r\n\r\nfunction GoodsList(props) {\r\n    const { goods = [], onBuy } = props;\r\n\r\n    if (!goods.length) {\r\n        return <h3>Нет товаров</h3>\r\n    }\r\n\r\n    return (\r\n        <div className='goods'>\r\n            {goods.map(item => (\r\n                <GoodItem key={item.id} {...item} onBuy={onBuy} />\r\n            ))\r\n\r\n            }\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport { GoodsList };","function Cart(props) {\r\n    const { quantity = 0, onBasketShow } = props;\r\n\r\n    return (\r\n        <div className='cart orange darken-3 white-text' onClick={onBasketShow}>\r\n            <i className=\"material-icons\">add_shopping_cart</i>\r\n            {quantity ? <span className='cart-quantity'>{quantity}</span> : null}\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport { Cart }","function BasketItem(props) {\r\n    const {\r\n        id, name, price, quantity, onRemove, increment, decrement\r\n    } = props;\r\n    return (\r\n        <li className=\"collection-item\">\r\n            {name}\r\n            <i className='material-icons basket__quantity' onClick={() => decrement(id)}>remove</i>\r\n            x{quantity}\r\n            <i className='material-icons basket__quantity' onClick={() => increment(id)}>add</i>\r\n            = {price * quantity} руб.\r\n            <span className='secondary-content' onClick={() => onRemove(id)} >\r\n                <i className='material-icons basket__delete'>close</i>\r\n            </span>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport { BasketItem };","import { BasketItem } from './BasketItem';\r\n\r\n\r\nfunction BasketList(props) {\r\n    const { order = [], onBasketShow, onRemove, increment, decrement } = props;\r\n\r\n    const totalPrice = order.reduce((sum, elem) => {\r\n        return sum + elem.price * elem.quantity\r\n    }, 0);\r\n\r\n    return (\r\n        <ul className=\"collection with-header basket__list\">\r\n            <li className=\"collection-header orange  lighten-1\"><h4>Корзина</h4></li>\r\n            {\r\n                order.length ? order.map(item => (\r\n                    <BasketItem\r\n                        key={item.id} {...item}\r\n                        onRemove={onRemove}\r\n                        increment={increment}\r\n                        decrement={decrement}\r\n                    />\r\n                )) : <li className=\"collection-item\">Корзина пуста</li>\r\n            }\r\n\r\n            <li className=\"collection-item active orange  lighten-1\">Общая стоимость: {totalPrice} руб.\r\n            </li>\r\n            <button className='waves-effect waves-light btn orange darken-3 white-text busket__button'>Оформить заказ</button>\r\n            <i className='material-icons basket__close' onClick={onBasketShow}>close</i>\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport { BasketList };","import React from \"react\";\r\n\r\nfunction Alert(props) {\r\n    const { name, onCloseAlert } = props;\r\n\r\n\r\n    React.useEffect(() => {\r\n        const timerId = setTimeout(onCloseAlert, 3000);\r\n        return () => {\r\n            clearTimeout(timerId)\r\n        }\r\n    }, [name])\r\n\r\n    return (\r\n        <div id=\"toast-container\">\r\n            <div className=\"toast\">{name} добавлен в корзину</div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport { Alert }","import React from 'react';\r\nimport { API_KEY, API_URL } from '../config';\r\nimport { Preloader } from './Preloader';\r\nimport { GoodsList } from './GoodsList';\r\nimport { Cart } from './Cart';\r\nimport { BasketList } from './BasketList';\r\nimport { Alert } from './Alert';\r\n\r\nfunction Shop() {\r\n    const [goods, setGoods] = React.useState([]);\r\n    const [loading, setLoading] = React.useState(true);\r\n    const [order, setOrder] = React.useState([]);\r\n    const [isBasketShow, setBasketShow] = React.useState(false);\r\n    const [alertName, setAlertName] = React.useState('');\r\n\r\n    const addToBasket = (item) => {\r\n        const itemIndex = order.findIndex(\r\n            (orderItem) => orderItem.id === item.id\r\n        );\r\n\r\n        if (itemIndex < 0) {\r\n            const newItem = {\r\n                ...item,\r\n                quantity: 1,\r\n            };\r\n            setOrder([...order, newItem]);\r\n        } else {\r\n            const newOrder = order.map((orderItem, index) => {\r\n                if (index === itemIndex) {\r\n                    return {\r\n                        ...orderItem,\r\n                        quantity: orderItem.quantity + 1,\r\n                    };\r\n                } else {\r\n                    return orderItem;\r\n                }\r\n            });\r\n\r\n            setOrder(newOrder);\r\n        }\r\n        setAlertName(item.name)\r\n    }\r\n\r\n    const incQuantity = (itemId) => {\r\n        const newOrder = order.map((elem) => {\r\n            if (elem.id === itemId) {\r\n                const newQuantity = elem.quantity + 1;\r\n                return {\r\n                    ...elem,\r\n                    quantity: newQuantity,\r\n                };\r\n            } else {\r\n                return elem;\r\n            }\r\n        })\r\n        setOrder(newOrder)\r\n    };\r\n\r\n    const decQuantity = (itemId) => {\r\n        const newOrder = order.map((elem) => {\r\n            if (elem.id === itemId) {\r\n                const newQuantity = elem.quantity - 1;\r\n                return {\r\n                    ...elem,\r\n                    quantity: newQuantity >= 0 ? newQuantity : 0,\r\n                };\r\n            } else {\r\n                return elem;\r\n            }\r\n        })\r\n        setOrder(newOrder)\r\n    };\r\n\r\n\r\n    const removeFromBasket = (itemId) => {\r\n        const newOrder = order.filter(elem => elem.id !== itemId)\r\n        setOrder(newOrder)\r\n    }\r\n\r\n    const handleBasketShow = () => {\r\n        setBasketShow(!isBasketShow);\r\n    }\r\n\r\n    const handleCloseAlert = () => {\r\n        setAlertName('');\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        fetch(API_URL, {\r\n            headers: {\r\n                'Authorization': API_KEY,\r\n            }\r\n        })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                data.featured && setGoods(data.featured)\r\n                setLoading(false);\r\n                console.log(data)\r\n            });\r\n\r\n    }, [])\r\n\r\n\r\n\r\n\r\n    return (\r\n        <main className='container content'>\r\n            <Cart\r\n                quantity={order.length}\r\n                onBasketShow={handleBasketShow}\r\n            />\r\n            {\r\n                loading ?\r\n                    (<Preloader />\r\n                    ) : (\r\n                        <GoodsList\r\n                            goods={goods}\r\n                            onBuy={addToBasket}\r\n\r\n                        />\r\n                    )\r\n            }\r\n            {\r\n                isBasketShow && (\r\n                    <BasketList\r\n                        order={order}\r\n                        onBasketShow={handleBasketShow}\r\n                        onRemove={removeFromBasket}\r\n                        increment={incQuantity}\r\n                        decrement={decQuantity} />\r\n                )}\r\n            {alertName && <Alert name={alertName} onCloseAlert={handleCloseAlert} />}\r\n\r\n        </main>\r\n    )\r\n}\r\n\r\nexport { Shop };","const API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\nconst API_URL = 'https://fortniteapi.io/v1/shop?lang=ru';\r\n\r\nexport {\r\n    API_KEY,\r\n    API_URL\r\n}","function Footer() {\r\n    return (\r\n        <footer className=\"page-footer  orange darken-1\">\r\n            <div className=\"footer-copyright\">\r\n                <div className=\"container\">\r\n                    © {new Date().getFullYear()} Copyright Text\r\n                    <a className=\"grey-text text-lighten-4 right\" href=\"#!\">email@email.com</a>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    )\r\n\r\n}\r\nexport { Footer };","import { Header } from './components/Header';\nimport { Shop } from './components/Shop';\nimport { Footer } from './components/Footer';\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <Shop />\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}